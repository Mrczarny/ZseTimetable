{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "System.Net.Http.HttpClient": "Warning"
    }
  },
  "ConnectionStrings": {
    "DefaultConnection": "Data Source=host.docker.internal,1401;Initial Catalog=Timetables;User ID=DataAccess;Password=ppp;Encrypt=False;" //TODO - connection isn't encrypeted !
  },
  "AllowedHosts": "*",
  "Database": "SQLServerContainer",
  "Scrappers": {
    "Timetable": [
      {
        "Name": "Classroom",
        "Pattern": "<.*?>(((<[^<>\\n]+(?<teacherLink>(?<=\")[^<>\\n]*?\\.html).*?>)|)((?<teacherName>[^<>\\n]+)).*?\"((?<classLink>(?<=\").*?\\.html)|).*?>((?<className>[^<>\\n\\s]+)<.*?(?<groupName>(?<=-)[^<> ,]+)|(?<className>[^<>\\n\\s]+)<).*?>(?<lessonName>(?<!</a>|</span>)[^<>\\n]+(?!</a>))<.*?)(<br>|</td>|)",
        "RegexOptions": "13"
      },
      {
        "Name": "Teacher",
        "Pattern": "<.*?>(((<[^<>\\n]+(?<classLink>(?<=\")[^<>\\n]*?\\.html).*?>)|)(((?<className>[^-<>\\n]+).*?(?<groupName>(?<=-)[^<> ]+))|(?<className>[^<>\\n]+)).*?\"((?<lessonLink>(?<=\").*?\\.html)|).*?>(?<lessonName>[^<>\\n\\f\\r\\t\\v\\u0085]+)<.*?\"((?<classroomLink>(?<=\").*?\\.html)|).*?>(?<classroomName>(?<!</a>|</span>)[^<>\\n]+)<.*?)(<br>|</td>|)",
        "RegexOptions": "13"
      },
      {
        "Name": "Class",
        "Pattern": "<.*?>((((?<lessonName>[^-<>\\n]+).*?(?<groupName>(?<=-)[^<> ]+))|(?<lessonName>[^<>\\n]+)).*?\"((?<teacherLink>(?<=\").*?\\.html)|).*?>(?<teacherName>[^<>\\n\\s]+)<.*?\"((?<classroomLink>(?<=\").*?\\.html)|).*?>(?<classroomName>(?<!</a>|</span>)[^<>\\n]+)<.*?)(<br>|</td>|)",
        "RegexOptions": "13"
      },
      {
        "Name": "ScrapRawTable",
        "Pattern": "<tr>.*?nr\">(?<lessonNumber>\\d+).*?g\">(?<lessonHours>.*?)<.*?(?<lessons><td.*?)</tr>",
        "RegexOptions": "25"
      },
      {
        "Name": "Scrap",
        "Pattern": "<body>.*?tytulnapis\">(?<Title>[^<> ]+).+?<.+?(?<Table><table.+?</table>).*?obowiÄ…zuje od: (?<startDate>\\d{2}\\.\\d{2}\\.(\\d{4}|\\d{2}))(.*? do (?<endDate>\\d{2}\\.\\d{2}\\.\\d{4}).*?|.*?)</body>",
        "RegexOptions": "29"
      } 
    ],
    "Changes": [
      {
        "Name": "Scrap",
        "Pattern": "<nobr>(?<replacementHeader>.*?(?<replacementDate>\\d{1,2}\\.\\d{1,2}\\.\\d{4}).*?)</nobr>.*?(?<replacements><tr>.*</tr>)",
        "RegexOptions": "25"
      },
      {
        "Name": "ScrapTeacherReplacements",
        "Pattern": "<tr>[^<]*?<td[^<]*?>\\s*(?<TeacherName>[^\\n<>]+)[^<]*?</td>[^<]*?</tr>(?<rawClassReplacements>.*?)",
        "RegexOptions": "93"
      },
      {
        "Name": "ScrapClassReplacements",
        "Pattern": "<tr>.*?>\\s*?(?<lessonNumber>\\d+)\\s*?<.*?<td.*?>\\s*?(?<className>\\S[^<>v()]*\\S)\\s*?((\\((?<groupName>\\S*?)\\))|)\\s*-\\s*(?<classroomName>[^<>]+?)\\s*?<.*?<td.*?>\\s*?(?<sub>\\S[^<>]+?)\\s*?<.*?<td.*?>\\s*?(?<note>\\S[^<>]+?)\\s*?<.*?</tr>",
        "RegexOptions": "25"
      }
    ],
    "Types": [
      {
        "type": "Class", 
        "letter": "o"
      },
      {
        "type": "Classroom",
        "letter": "s"
      },
      {
        "type": "Teacher",
        "letter": "n"
      }
    ]
  }
}